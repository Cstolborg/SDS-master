---
title: 'Introduction to Data Science Workflows'
author: "Daniel S. Hain (dsh@business.aau.dk)"
date: "Updated `r format(Sys.time(), '%B %d, %Y')`"
output: ioslides_presentation
---

```{r setup, include=FALSE}
# Knitr options
knitr::opts_chunk$set(
  echo = FALSE
  )

# Load packages
library(tidyverse)
library(magrittr)
library(knitr)
library(kableExtra)
```

<!-- CSS Definitions -->
<style type="text/css">
    .img{
        width: 75%;
        class="centered";
        display: block;
    }
    .img_big{
        width: 100%;
        text-align: center;
        display: block;
    }
</style>
<!-- CSS Definitions -->

## This session 

In this session, you will learn the basic grammar of data manipulation. This includes:

* How to do basic variable filtering, selection, and manipulation
* How to create various types of data summarization
* How to also apply these actions on grouped data
* How to join data from different sources
* How to reshape (pivot) your data

From my experience, this covers ca. 95% of common data manipulation tasks. Sound like fun? Lets get started!

# Introduction 

## Data Science Workflows {.smaller}

![](https://sds-aau.github.io/SDS-master/00_media/ds_workflow.png){.img}

1. **Import** Transfer data from an external source (xls sheet, html page, API etc.) to a format suitable for your current environment.
2. **Tidy:** Manipulating data structure in a consistent form that matches the semantics of the dataset.
3. **EDA / Visualize:** Exploration of the properties of and relationships within the data with visualizations and simple statistics.
4. **Model:** Use of mathematical/computational tools/algorithms to identify properties of data, relationships, mechanisms & predictions

## What is data? 

TODO

# Basic operations of Data Manipulation

## The 5+ core verbs

At it's core are 5 central verbs (functions) of data manipulation:

1. `FILTER` picks cases based on their values.
2. `SELECT` picks variables based on their names.
3. `ARRANGE` changes the ordering of the rows.
4. `MUTATE` adds new variables that are functions of existing variables
5. `SUMMARIZE` reduces multiple values down to a single summary.

They are often completed by:

6. `GROUP_BY` operations on group level
7. `JOIN` operation across dataframes
8. `PIVOT` and other changes of the dataframe's shape

## 1: FILTER: subsetting rows  {.build}

`FILTER` oerations subset a dataframe by rows (observations), so that output only contains rows which fulfill a certain condition.

![](https://sds-aau.github.io/SDS-master/00_media/dplyr_filter.png){.img_big}

<div class="columns-2">

```{r, echo=TRUE, eval=FALSE}
DF_CARS
```

```{r}
cars %>%   
  head(15) %>% 
  kable("html") %>%
  kable_styling(bootstrap_options = c("striped", "condensed", "hover"), font_size = 10)
```

```{r, echo=TRUE, eval=FALSE}
DF_CARS FILTER SPEED >= 5
```

```{r}
cars %>% filter(speed >= 5) %>% 
  head(15) %>% 
  kable("html") %>%
  kable_styling(bootstrap_options = c("striped", "condensed", "hover"), font_size = 10)
```
</div>

## 2: SELECT: subsetting Columns  {.build}

`SELECT` oerations subset a dataframe by column (variable) so that output only contains certain columns in the stated order

![](https://sds-aau.github.io/SDS-master/00_media/dplyr_select.png){.img_big}

<div class="columns-2">

```{r, echo=TRUE, eval=FALSE}
DF_IRIS
```

```{r}
iris %>%   
  head(15) %>% 
  kable("html") %>%
  kable_styling(bootstrap_options = c("striped", "condensed", "hover"), font_size = 10)
```

```{r, echo=TRUE, eval=FALSE}
DF_IRIS SELECT SEPAL_LENGHT SPECIES
```

```{r}
iris %>% select(Sepal.Length, Species) %>% 
  head(15) %>% 
  kable("html") %>%
  kable_styling(bootstrap_options = c("striped", "condensed", "hover"), font_size = 10)
```
</div>

## 3: ARRANGE: Reoder by column value {.build}

`ARRANGE` oerations reorder  dataframe's rows by selected column values

![](https://sds-aau.github.io/SDS-master/00_media/dplyr_arrange.png){.img_big}

<div class="columns-2">

```{r, echo=TRUE, eval=FALSE}
DF_CARS
```

```{r}
cars %>%   
  head(15) %>% 
  kable("html") %>%
  kable_styling(bootstrap_options = c("striped", "condensed", "hover"), font_size = 10)
```

```{r, echo=TRUE, eval=FALSE}
DF_CARS ARRANGE DESC SPEED
```

```{r}
cars %>% arrange(desc(speed)) %>% 
  head(15) %>% 
  kable("html") %>%
  kable_styling(bootstrap_options = c("striped", "condensed", "hover"), font_size = 10)
```
</div>

